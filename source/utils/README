$Id: README 45150 2017-08-28 06:43:57Z kakuto $
Public domain.  Originally written 2005 by Karl Berry.

Extra utilities we (optionally) compile for TeX Live.
See comments in ../texk/README.


asymptote 2.41 - checked 23mar17
  update to TL from CTAN, to include prebuilt doc.
  see http://tug.org/texlive/build.html#asymptote
  and tlpkg/bin/tl-update-asy

autosp 2017-07-14 - checked 26jul17
  http://ctan.org/pkg/autosp

devnag - from devanagari package installed in texmf-dist.

lacheck - maintained here, by us

m-tx 0.62 - checked 10feb16
  http://ctan.org/pkg/m-tx/

pmx 2.7.6 - checked 09dec16
  http://ctan.org/pkg/pmx/

ps2eps 1.68 - checked 10may12
  http://tm.uka.de/~bless/ps2eps

t1utils 1.41 - checked 28aug17
  http://www.lcdf.org/type/

texdoctk - reluctantly maintained here in TL
  If anyone would like to resume development, just let us know.
  
tpic2pdftex 1.97 - checked 10may12
  http://ctan.org/pkg/tpic2pdftex/

vlna 1.5 - checked 10may12
  ftp://math.feld.cvut.cz/pub/olsak/vlna/

xindy - see just below

xpdfopen 0.86 - checked 24may14
  http://ctan.org/pkg/xpdfopen/
  http://cs.acadiau.ca/~jdiamond/xpdfopen/


xindy 2.5.1 - checked 15sep14
  http://www.ctan.org/pkg/xindy

After building clisp as described below, run the TL
  Build --enable-xindy CLISP=$clisp_builddir/clisp
to include xindy in the build.  It is disabled by default.

xindy/README-clisp has alternative instructions with some extra
information, especially for those building xindy on its own.  The
process here is written for building clisp-for-xindy-for-TL.  The
differences are minimal.

mkdir clisp; cd clisp
clisp_basedir=`pwd`
clisp_toolsdir=$clisp_basedir/clisp-tools
clisp_builddir=$clisp_basedir/clisp-build
mkdir $clisp_toolsdir

wget=wget  # or "curl -O" or whatever

libsigsegv_ver=libsigsegv-2.11
cd $clisp_basedir
$wget http://ftp.gnu.org/gnu/libsigsegv/$libsigsegv_ver.tar.gz
gzip -dc $libsigsegv_ver.tar.gz | tar xf -
cd $libsigsegv_ver
./configure -C --prefix=$clisp_toolsdir --disable-shared --enable-static \
&& make && make check && make install
#
# you may need this hack on 64-bit systems
# if clisp's configure does not find libsigsegv.  Harmless to do in any case.
ln -s lib $clisp_toolsdir/lib64
#
# if you can't build libsigsegv, pass --ignore-absence-of-libsigsegv
# when running configure for clisp.

ffcall_ver=libffcall-1.13-20170225
cd $clisp_basedir
$wget http://www.haible.de/bruno/gnu/$ffcall_ver.tar.gz
gzip -dc $ffcall_ver.tar.gz | tar xf -
cd $ffcall_ver
./configure -C --prefix=$clisp_toolsdir --disable-shared --enable-static \
&& make && make check && make install

# may be able to omit iconv if have new enough in libc or elsewhere.
libiconv_ver=libiconv-1.15
cd $clisp_basedir
$wget http://ftp.gnu.org/gnu/libiconv/$libiconv_ver.tar.gz
gzip -dc $libiconv_ver.tar.gz | tar xf -
cd $libiconv_ver
./configure -C --prefix=$clisp_toolsdir \
  --disable-shared --enable-static --disable-nls \
&& make && make check && make install

# would probably be ideal to also do a local libtermcap or ncurses,
# but doesn't seem to be a problem in practice?

# foil wrong attempts at dynamic linking, etc.
(cd $clisp_basedir/clisp-tools/lib && rm -f *.dylib *.la)

clisp_ver=clisp-2.49.50
cd $clisp_basedir
$wget https://haible.de/bruno/gnu/clisp-2.49.50.tar.bz2
bunzip2 -dc $clisp_ver.tar.bz2 | tar xf -
cd $clisp_ver

# On Cygwin:
# mv modules/syscalls/configure modules/syscalls/configure.orig
# sed -e '{s%-luuid%-L/usr/lib/w32api -luuid%}' \
#  modules/syscalls/configure.orig > modules/syscalls/configure
# On FreeBSD/amd64: add --disable-mmap.
#
./configure CPPFLAGS=-DUNIX_BINARY_DISTRIB --prefix=$clisp_toolsdir \
  --without-readline --without-dynamic-modules --without-termcap-ncurses \
  --disable-nls --enable-portability \
  --with-libsigsegv-prefix=$clisp_toolsdir \
  --with-libffcall-prefix=$clisp_toolsdir \
  --with-libiconv-prefix=$clisp_toolsdir \
  $clisp_builddir \
&& (cd $clisp_builddir && make)
